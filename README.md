# üçï Sistema de Delivery de Comida - Multi-Tenant Full Stack

Um sistema completo de delivery de comida com arquitetura multi-tenant, desenvolvido com tecnologias modernas. Permite que m√∫ltiplas lojas operem de forma independente em uma √∫nica plataforma, com gest√£o centralizada atrav√©s de um Super Admin.

## ‚ú® Funcionalidades Principais

### üë• Para Clientes
- **Navega√ß√£o Intuitiva**: Interface moderna e responsiva
- **Cat√°logo de Produtos**: Visualiza√ß√£o detalhada de pratos com imagens
- **Sistema de Carrinho**: Adicionar/remover itens com facilidade
- **Personaliza√ß√£o**: Adicionais e extras para cada prato
- **Autentica√ß√£o**: Sistema seguro de login e cadastro
- **Hist√≥rico de Pedidos**: Acompanhamento completo dos pedidos
- **M√∫ltiplos Pagamentos**: Integra√ß√£o com Stripe e pagamento na entrega
- **Banners Interativos**: Banners que direcionam para produtos espec√≠ficos
- **P√°ginas de Produto**: Visualiza√ß√£o detalhada com extras personaliz√°veis

### üîß Para Administradores de Loja
- **Painel Administrativo**: Interface dedicada para gest√£o da loja
- **üåô Modo Escuro/Claro**: Toggle de tema com persist√™ncia de prefer√™ncia
- **Gerenciamento de Produtos**: CRUD completo de pratos e categorias
- **Gest√£o de Banners**: Sistema completo de banners com direcionamento para produtos
- **üè∑Ô∏è Banners Padr√£o**: Identifica√ß√£o e gerenciamento especial de banners padr√£o
- **Controle de Pedidos**: Visualiza√ß√£o e atualiza√ß√£o de status
- **Gest√£o de Usu√°rios**: Controle de clientes cadastrados
- **Upload de Imagens**: Sistema integrado para imagens de produtos e banners
- **Categorias Din√¢micas**: Sistema completo de categorias com status ativo/inativo
- **Configura√ß√µes da Loja**: Personaliza√ß√£o espec√≠fica por loja
- **ü§ñ Assistente Liza**: IA integrada com OpenRouter para automa√ß√£o e suporte
  - Consulta de card√°pio via comandos de voz
  - Relat√≥rios autom√°ticos do dia
  - Verifica√ß√£o de pedidos em andamento
  - Altera√ß√£o de pre√ßos e disponibilidade
  - Processamento de linguagem natural local
- **üì± Bot Telegram Liza**: Integra√ß√£o completa com Telegram para automa√ß√£o
  - Recebimento de pedidos via Telegram
  - Notifica√ß√µes autom√°ticas de novos pedidos
  - Consulta de card√°pio e pre√ßos via bot
  - Relat√≥rios de vendas e estat√≠sticas
  - Gest√£o de pedidos atrav√©s do chat
  - Configura√ß√£o de webhooks autom√°tica
  - Interface administrativa para gerenciar bot

### üëë Para Super Administradores
- **Gest√£o Multi-Tenant**: Controle centralizado de m√∫ltiplas lojas
- **Cria√ß√£o de Lojas**: Sistema completo para adicionar novas lojas
- **Gerenciamento de Store Admins**: Cria√ß√£o e gest√£o de administradores por loja
- **Configura√ß√µes Globais**: Defini√ß√µes que afetam todo o sistema
- **Estat√≠sticas Centralizadas**: Vis√£o geral de todas as lojas
- **Controle de Status**: Ativar/suspender lojas individualmente
- **Planos de Assinatura**: Gest√£o de diferentes planos para as lojas

## üõ†Ô∏è Tecnologias Utilizadas

### Frontend (Cliente)
- **React 18** - Biblioteca principal
- **Vite** - Build tool moderna e r√°pida
- **React Router** - Navega√ß√£o SPA
- **Axios** - Cliente HTTP
- **CSS3** - Estiliza√ß√£o responsiva

### Backend (API)
- **Node.js** - Runtime JavaScript
- **Express.js** - Framework web
- **MongoDB** - Banco de dados NoSQL
- **Mongoose** - ODM para MongoDB
- **JWT** - Autentica√ß√£o segura
- **Bcrypt** - Criptografia de senhas
- **Multer** - Upload de arquivos
- **Stripe** - Gateway de pagamento
- **Multi-Tenancy Middleware** - Isolamento de dados por loja
- **Role-Based Access Control** - Sistema de permiss√µes por fun√ß√£o

### Admin Panel
- **React 18** - Interface administrativa
- **Vite** - Build tool
- **Axios** - Comunica√ß√£o com API
- **CSS3** - Estiliza√ß√£o dedicada
- **Super Admin Dashboard** - Painel para gest√£o multi-tenant
- **Store Management** - Interface para gerenciar lojas individuais

### ü§ñ Assistente IA Liza
- **OpenRouter** - API para modelos de IA
- **Llama 3.1** - Modelo de linguagem natural
- **Processamento Local** - IA rodando sem depend√™ncia de APIs externas
- **Integra√ß√£o Backend** - Comunica√ß√£o direta com APIs do sistema
- **Interface de Chat** - Interface moderna para intera√ß√£o
- **Comandos Inteligentes** - Reconhecimento de inten√ß√µes e a√ß√µes autom√°ticas

### üì± Bot Telegram Liza
- **Telegram Bot API** - Integra√ß√£o oficial com Telegram
- **Webhooks** - Recebimento em tempo real de mensagens
- **Node.js Backend** - Processamento de comandos do bot
- **MongoDB Integration** - Armazenamento de dados do bot
- **Automated Responses** - Respostas autom√°ticas inteligentes
- **Order Management** - Gest√£o completa de pedidos via Telegram
- **Menu Integration** - Acesso completo ao card√°pio da loja
- **Admin Controls** - Controles administrativos via chat

## üì¶ Instala√ß√£o e Configura√ß√£o

### Pr√©-requisitos
- **Node.js** (v14 ou superior)
- **MongoDB** (local ou MongoDB Atlas)
- **Git** (para clonar o reposit√≥rio)
- **Conta no Stripe** (opcional, para pagamentos)
- **OpenRouter API Key** (para a assistente IA Liza)
- Obtenha sua chave em: https://openrouter.ai/
- Configure a vari√°vel `VITE_OPENROUTER_API_KEY`
- **Telegram Bot Token** (para o Bot Telegram Liza)
- Crie um bot com @BotFather no Telegram
- Configure a vari√°vel `TELEGRAM_BOT_TOKEN`

### ‚ö° Configura√ß√£o Autom√°tica (Recomendado)

**1. Clone o reposit√≥rio:**
```bash
git clone https://github.com/seu-usuario/projeto_cardapio_fullstak_beta_02.git
cd projeto_cardapio_fullstak_beta_02
```

**2. Execute o setup autom√°tico:**
```bash
npm run setup
```

Este comando ir√°:
- ‚úÖ Criar arquivos `.env` com configura√ß√µes corretas
- ‚úÖ Instalar todas as depend√™ncias
- ‚úÖ Configurar URLs automaticamente
- ‚úÖ Criar usu√°rio Super Admin
- ‚úÖ Validar configura√ß√µes

**3. Inicie o projeto:**
```bash
# Windows PowerShell
.\start-project.ps1

# Windows Batch
start-project.bat

# Manual (4 terminais)
npm run dev:all
```

## üîë Credenciais de Teste

### Atendente de Balc√£o (Counter)
- **Email**: `atendente@teste.com`
- **Senha**: `123456789`
- **URL**: http://localhost:5176

### Super Admin
- **Email**: `admin@sistema.com`
- **Senha**: `admin123`
- **URL**: http://localhost:5174

### URLs do Sistema
- **Frontend (Clientes)**: http://localhost:5173
- **Admin (Lojas)**: http://localhost:5174
- **Counter (Balc√£o)**: http://localhost:5176
- **Backend (API)**: http://localhost:4001

## üîÑ Reinicializa√ß√£o do Projeto

### Inicializa√ß√£o R√°pida
1. **Certifique-se que o MongoDB est√° rodando**
2. **Execute um dos scripts de inicializa√ß√£o:**
   - PowerShell: `.\start-project.ps1`
   - Batch: `start-project.bat`
3. **Aguarde todos os servi√ßos carregarem (‚âà30 segundos)**
4. **Acesse as URLs listadas acima**

### Se houver problemas:
1. **Crie o atendente de teste** (se necess√°rio):
   ```bash
   cd backend
   node create-test-attendant.js
   ```
2. **Verifique se todas as portas est√£o livres**:
   - Backend: 4001
   - Frontend: 5173
   - Admin: 5174
   - Counter: 5176
3. **Reinstale depend√™ncias se necess√°rio**:
   ```bash
   npm run setup
   ```

### üîß Configura√ß√£o Manual (Avan√ßado)

### 1. Clone o Reposit√≥rio
```bash
git clone https://github.com/seu-usuario/projeto_cardapio_fullstak_beta_02.git
cd projeto_cardapio_fullstak_beta_02
```

### 2. Instale as depend√™ncias em cada m√≥dulo:
```bash
# Backend
cd backend && npm install

# Frontend
cd ../frontend && npm install

# Admin
cd ../admin && npm install

# Counter
cd ../counter && npm install
```

### 2. Configura√ß√£o do Backend
```bash
cd backend
npm install
```

**Crie um arquivo `.env` na pasta backend:**
```env
MONGODB_URI=mongodb://localhost:27017/food-delivery-multitenant
JWT_SECRET=seu_jwt_secret_super_seguro_aqui
STRIPE_SECRET_KEY=sua_chave_stripe_aqui
PORT=4000
SUPER_ADMIN_EMAIL=superadmin@gmail.com
SUPER_ADMIN_PASSWORD=admin123
TELEGRAM_BOT_TOKEN=seu_token_do_bot_telegram_aqui
WEBHOOK_URL=https://seu-dominio.com/webhook/telegram
```

**Inicie o servidor backend:**
```bash
npm run server
```

### 3. Configura√ß√£o do Frontend (Cliente)
**Em um novo terminal:**
```bash
cd frontend
npm install
npm run dev
```

### 4. Configura√ß√£o do Admin Panel
**Em um novo terminal:**
```bash
cd admin
npm install
npm run dev
```

### 5. Configura√ß√£o da Assistente IA (ai-assistant)
**Em um novo terminal:**
```bash
cd ai-assistant
pip install -r requirements.txt
```

**Configure o arquivo `.env` na pasta ai-assistant:**
```env
VITE_OPENROUTER_API_KEY=sua_chave_aqui
CHAINLIT_AUTH_SECRET=seu_chainlit_secret_aqui
```

**Inicie a assistente IA:**
```bash
chainlit run app.py -w
```

### 6. Configura√ß√£o do Bot Telegram Liza
**Configure o Bot Telegram:**
```bash
# 1. Crie um bot no Telegram com @BotFather
# 2. Obtenha o token do bot
# 3. Configure as vari√°veis de ambiente no backend/.env:
TELEGRAM_BOT_TOKEN=seu_token_aqui
WEBHOOK_URL=https://seu-dominio.com/webhook/telegram

# 4. O webhook ser√° configurado automaticamente na inicializa√ß√£o
```

**Funcionalidades do Bot:**
- üìã Consulta de card√°pio: `/menu`
- üìä Relat√≥rios de vendas: `/relatorio`
- üõí Gest√£o de pedidos: `/pedidos`
- ‚öôÔ∏è Configura√ß√µes: `/config`
- üí∞ Pre√ßos e disponibilidade: `/precos`
- üìà Estat√≠sticas: `/stats`

### 7. Configurar Super Administrador
**Primeira execu√ß√£o - O Super Admin ser√° criado automaticamente na primeira inicializa√ß√£o do sistema.**

**Ou crie manualmente:**
```bash
cd backend
node createAdmin.js
```

**Credenciais padr√£o do Super Admin:**
- **Email**: superadmin@gmail.com
- **Senha**: admin123
- **URL**: http://localhost:5173

## üöÄ Como Executar o Projeto

### üéØ Inicializa√ß√£o R√°pida (Recomendado)

**Para Windows:**
1. **Abra o PowerShell como Administrador**
2. **Execute o script de inicializa√ß√£o:**
```powershell
# Navegar para o diret√≥rio do projeto
cd "C:\caminho\para\Full-Stack-Food-Delivery-Web-Application"

# Executar script de inicializa√ß√£o (instala depend√™ncias e inicia tudo)
.\start-project.ps1
```

**Ou use o arquivo .bat:**
```cmd
# Duplo clique no arquivo ou execute:
start-project.bat
```

### üîß Execu√ß√£o Manual (3 terminais)

**Terminal 1 - Backend:**
```bash
cd backend
npm run server
```

**Terminal 2 - Frontend:**
```bash
cd frontend
npm run dev
```

**Terminal 3 - Admin:**
```bash
cd admin
npm run dev
```

### ‚úÖ Verifica√ß√£o de Funcionamento

**Execute o health check:**
```powershell
.\health-check.ps1
```

**Verifica√ß√£o manual:**
1. **Backend**: Deve mostrar "Server started on http://localhost:4000" e "DB Connected Successfully"
2. **Frontend**: Deve estar dispon√≠vel em http://localhost:5173
3. **Admin Panel**: Deve estar dispon√≠vel em http://localhost:5174

## üîë Credenciais de Acesso

### Super Administrador (Gest√£o Multi-Tenant)
- **Email**: superadmin@fooddelivery.com
- **Senha**: superadmin123
- **URL**: http://localhost:5174

### Administrador de Loja
*Criado pelo Super Admin atrav√©s do painel de gest√£o de lojas*
- **URL**: http://localhost:5174
- **Credenciais**: Definidas durante a cria√ß√£o da loja

*‚ö†Ô∏è **IMPORTANTE**: Altere as credenciais padr√£o ap√≥s o primeiro login!*

## üåê URLs de Acesso

- **üõí Frontend (Clientes)**: http://localhost:5173
- **üè™ Admin Panel (Lojas)**: http://localhost:5174
- **üîå Backend API**: http://localhost:4000
- **ü§ñ Assistente Liza**: Integrada no Admin Panel (Chat com IA)
- **üß† OpenRouter API**: https://openrouter.ai/api/v1 (IA Cloud)
- **üì± Bot Telegram**: Integrado com webhook autom√°tico
- **üîó Telegram API**: https://api.telegram.org/bot{token} (Bot oficial)

### ‚ö†Ô∏è IMPORTANTE: Configura√ß√£o de URLs

**O sistema utiliza configura√ß√£o centralizada de URLs para garantir que os links sejam gerados corretamente:**

#### üìã Configura√ß√µes Padr√£o
- **Frontend (Cliente/Gar√ßom)**: Porta 5173
- **Admin (Painel Administrativo)**: Porta 5174
- **Backend (API)**: Porta 4000

#### üîß Arquivos de Configura√ß√£o
- `backend/config/urls.js` - Configura√ß√£o centralizada do backend
- `admin/src/config/urls.js` - Configura√ß√£o do painel administrativo
- `.env` - Vari√°veis de ambiente (criado automaticamente)

#### ‚úÖ Valida√ß√£o de URLs
```bash
# Validar se todas as URLs est√£o corretas
npm run validate-urls

# Reconfigurar URLs se necess√°rio
npm run setup-project
```

#### üö® Problemas Comuns
- **Link da loja abrindo painel admin**: URLs trocadas
- **QR Code da mesa n√£o funcionando**: Configura√ß√£o incorreta
- **Gar√ßom n√£o consegue acessar**: Token ou URL inv√°lida

**Solu√ß√£o**: Execute `npm run setup-project` para reconfigurar automaticamente.

## üîß Scripts Utilit√°rios

### üöÄ Inicializa√ß√£o Autom√°tica
- **start-project.ps1**: Script PowerShell completo com verifica√ß√µes
- **start-project.bat**: Script batch simples para Windows
- **health-check.ps1**: Verifica√ß√£o de sa√∫de de todos os servi√ßos
- **setup-test-data.js**: Cria√ß√£o de dados de teste

### üõ†Ô∏è Resolu√ß√£o de Problemas

#### ‚ùå Erro: "Loja n√£o encontrada"
**Solu√ß√£o:**
```bash
# Execute o script de cria√ß√£o de dados de teste
node setup-test-data.js
```

#### ‚ùå Links gerando URL incorreta
**Causa:** Configura√ß√£o de URL incorreta
**Solu√ß√£o:** Os links s√£o gerados automaticamente usando:
- Frontend (clientes): `http://localhost:5173/loja/{slug}`
- Admin (lojas): `http://localhost:5174`

#### ‚ùå Servi√ßos n√£o iniciam
**Solu√ß√µes:**
1. Verificar se o MongoDB est√° rodando
2. Verificar se as portas est√£o livres (4000, 5173, 5174)
3. Executar `health-check.ps1` para diagn√≥stico
4. Reinstalar depend√™ncias: `npm install` em cada pasta

#### ‚ùå Erro de conex√£o com banco
**Solu√ß√µes:**
1. Verificar se o MongoDB est√° rodando: `mongod --version`
2. Verificar conex√£o: `mongo mongodb://localhost:27017/food-del`
3. Reiniciar o servi√ßo do MongoDB

### üìã Dados de Teste Padr√£o
Ap√≥s executar `setup-test-data.js`:
- **Loja:** Loja Teste - Food Delivery
- **Slug:** loja-teste
- **URL:** http://localhost:5173/loja/loja-teste
- **Admin:** admin@loja-teste.com / admin123

## üì± Guia de Uso

### üë§ Para Clientes
1. **Acesso**: V√° para http://localhost:5173
2. **Cadastro**: Crie uma conta ou fa√ßa login
3. **Navega√ß√£o**: Explore o menu por categorias
4. **Carrinho**: Adicione itens e personalize com extras
5. **Checkout**: Finalize com Stripe ou pagamento na entrega
6. **Acompanhamento**: Monitore pedidos em "Meus Pedidos"

### üëë Para Super Administradores
1. **Login**: Acesse http://localhost:5175 com as credenciais do Super Admin
2. **Criar Loja**: Use "Store Management" para adicionar novas lojas
3. **Gerenciar Lojas**: Visualize, edite e controle status das lojas
4. **Configura√ß√µes Globais**: Defina configura√ß√µes que afetam todo o sistema
5. **Estat√≠sticas**: Monitore performance geral de todas as lojas

### üîß Para Administradores de Loja
1. **Login**: Acesse http://localhost:5174 com as credenciais da loja
2. **Produtos**: Gerencie card√°pio na se√ß√£o "Add Items"
3. **Categorias**: Controle categorias em "Categories"
4. **Banners**: Configure banners promocionais em "Banners"
5. **Pedidos**: Monitore e atualize status em "Orders"
6. **Usu√°rios**: Visualize clientes em "Users"
7. **Bot Telegram**: Configure e monitore o bot na se√ß√£o "Telegram Bot"
8. **Assistente IA**: Interaja com a Liza atrav√©s do chat integrado
9. **Configura√ß√µes**: Personalize configura√ß√µes espec√≠ficas da loja

### üì± Para Usar o Bot Telegram
1. **Configura√ß√£o**: Configure o token do bot no painel administrativo
2. **Comandos B√°sicos**:
   - `/start` - Iniciar conversa com o bot
   - `/menu` - Ver card√°pio completo
   - `/pedidos` - Consultar pedidos em andamento
   - `/relatorio` - Relat√≥rio de vendas do dia
   - `/help` - Lista de comandos dispon√≠veis
3. **Notifica√ß√µes**: Receba alertas autom√°ticos de novos pedidos
4. **Gest√£o**: Gerencie pedidos diretamente pelo chat

## üèóÔ∏è Estrutura Detalhada do Projeto

```
üìÅ Full-Stack-Food-Delivery-Web-Application/
‚îú‚îÄ‚îÄ üìÅ backend/                    # API Node.js/Express Multi-Tenant
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.js                  # Configura√ß√£o MongoDB
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ foodController.js      # Gest√£o de produtos (multi-tenant)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categoryController.js  # Gest√£o de categorias (multi-tenant)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bannerController.js    # Gest√£o de banners (multi-tenant)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userController.js      # Autentica√ß√£o (multi-tenant)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orderController.js     # Gest√£o de pedidos (multi-tenant)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storeController.js     # Gest√£o de lojas individuais
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ systemController.js    # Gest√£o do Super Admin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deliveryController.js  # C√°lculo de entrega
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegramController.js  # Controlador do Bot Telegram
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ middleware/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js               # Middleware de autentica√ß√£o
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ multiTenancy.js       # Middleware multi-tenant
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ foodModel.js          # Modelo de produtos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categoryModel.js      # Modelo de categorias
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bannerModel.js        # Modelo de banners
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userModel.js          # Modelo de usu√°rios (com roles)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orderModel.js         # Modelo de pedidos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storeModel.js         # Modelo de lojas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ systemSettingsModel.js # Configura√ß√µes globais
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegramBotModel.js   # Modelo do Bot Telegram
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ foodRoute.js          # Rotas de produtos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categoryRoute.js      # Rotas de categorias
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bannerRoute.js        # Rotas de banners
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userRoute.js          # Rotas de usu√°rios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orderRoute.js         # Rotas de pedidos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storeRoute.js         # Rotas de lojas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ systemRoute.js        # Rotas do Super Admin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deliveryRoute.js      # Rotas de entrega
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegramRoute.js      # Rotas do Bot Telegram
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ distanceService.js    # Servi√ßo de c√°lculo de dist√¢ncia
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegramService.js    # Servi√ßo do Bot Telegram
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ uploads/               # Imagens enviadas
‚îÇ   ‚îú‚îÄ‚îÄ server.js                 # Servidor principal
‚îÇ   ‚îú‚îÄ‚îÄ createAdmin.js            # Script para criar admin
‚îÇ   ‚îú‚îÄ‚îÄ telegramBot.js            # Configura√ß√£o do Bot Telegram
‚îÇ   ‚îî‚îÄ‚îÄ package.json              # Depend√™ncias backend
‚îú‚îÄ‚îÄ üìÅ frontend/                   # Aplica√ß√£o React (Clientes)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header/           # Cabe√ßalho e navega√ß√£o
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FoodItem/         # Item de produto
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FoodDisplay/      # Lista de produtos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginPopup/       # Modal de login
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Footer/           # Rodap√©
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home/             # P√°gina inicial
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Cart/             # Carrinho de compras
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlaceOrder/       # Finalizar pedido
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyOrders/         # Meus pedidos
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProductDetail/    # Detalhes do produto
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ context/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StoreContext.jsx  # Context API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.jsx               # Componente principal
‚îÇ   ‚îî‚îÄ‚îÄ package.json              # Depend√™ncias frontend
‚îú‚îÄ‚îÄ üìÅ admin/                      # Painel Administrativo Multi-Tenant
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Navbar/           # Navega√ß√£o admin
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar/          # Menu lateral (Store Admin)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SuperAdminLogin/  # Login Super Admin
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SuperAdminSidebar/ # Menu lateral Super Admin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Add/              # Adicionar produtos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ List/             # Listar produtos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Orders/           # Gerenciar pedidos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Categories/       # Gerenciar categorias
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Banners/          # Gerenciar banners
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Users/            # Visualizar usu√°rios
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TelegramBot/      # Gerenciar Bot Telegram
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SuperAdmin/       # P√°ginas Super Admin
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StoreManagement/ # Gest√£o de lojas
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SystemSettings/  # Configura√ß√µes globais
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.jsx               # App administrativo
‚îÇ   ‚îî‚îÄ‚îÄ package.json              # Depend√™ncias admin
‚îî‚îÄ‚îÄ üìÅ ai-assistant/               # Assistente IA Liza
    ‚îú‚îÄ‚îÄ üìÅ .chainlit/             # Configura√ß√µes Chainlit
    ‚îú‚îÄ‚îÄ üìÅ delivery_ai/           # M√≥dulos da IA
    ‚îú‚îÄ‚îÄ üìÅ src/                   # C√≥digo fonte da IA
    ‚îú‚îÄ‚îÄ .env                      # Vari√°veis de ambiente
    ‚îú‚îÄ‚îÄ app.py                    # Aplica√ß√£o principal Chainlit
    ‚îú‚îÄ‚îÄ config.py                 # Configura√ß√µes da IA
    ‚îú‚îÄ‚îÄ requirements.txt          # Depend√™ncias Python
    ‚îî‚îÄ‚îÄ README.md                 # Documenta√ß√£o da IA
```

## üîß Scripts Dispon√≠veis

### Backend
```bash
npm start          # Produ√ß√£o
npm run server     # Desenvolvimento (nodemon)
node createAdmin.js # Criar usu√°rio admin
```

### Frontend/Admin
```bash
npm run dev        # Desenvolvimento
npm run build      # Build produ√ß√£o
npm run preview    # Preview build
```

## üè¢ Arquitetura Multi-Tenant

### Conceito
O sistema utiliza uma arquitetura multi-tenant que permite que m√∫ltiplas lojas operem de forma independente em uma √∫nica inst√¢ncia da aplica√ß√£o. Cada loja possui:

- **Isolamento de Dados**: Cada loja acessa apenas seus pr√≥prios dados
- **Configura√ß√µes Independentes**: Cada loja pode ter suas pr√≥prias configura√ß√µes
- **Administra√ß√£o Separada**: Cada loja tem seus pr√≥prios administradores
- **Gest√£o Centralizada**: Super Admin controla todas as lojas

### Roles e Permiss√µes

#### Super Admin
- **Acesso Total**: Controle completo sobre todas as lojas
- **Gest√£o de Lojas**: Criar, editar, ativar/suspender lojas
- **Configura√ß√µes Globais**: Definir configura√ß√µes que afetam todo o sistema
- **Estat√≠sticas Centralizadas**: Vis√£o geral de performance

#### Store Admin
- **Acesso Restrito**: Apenas dados da pr√≥pria loja
- **Gest√£o da Loja**: Produtos, categorias, pedidos, usu√°rios
- **Configura√ß√µes Locais**: Personalizar configura√ß√µes espec√≠ficas
- **Relat√≥rios**: Estat√≠sticas apenas da pr√≥pria loja

#### Customer
- **Acesso por Loja**: Visualiza apenas produtos da loja selecionada
- **Pedidos**: Hist√≥rico espec√≠fico por loja
- **Perfil**: Dados compartilhados entre lojas

### Middleware Multi-Tenancy
O sistema utiliza um middleware especializado que:

- **Identifica a Loja**: Atrav√©s de headers ou contexto
- **Filtra Dados**: Garante isolamento entre lojas
- **Valida Permiss√µes**: Controla acesso baseado em roles
- **Injeta Contexto**: Adiciona informa√ß√µes da loja nas requisi√ß√µes

## üîç Funcionalidades Detalhadas

### Sistema de Banners
- **Cria√ß√£o**: Upload de imagem e configura√ß√£o de t√≠tulo/descri√ß√£o
- **Direcionamento**: Banners podem direcionar para produtos espec√≠ficos
- **Status**: Controle de banners ativos/inativos
- **Ordena√ß√£o**: Sistema de ordem de exibi√ß√£o

### Sistema de Categorias
- **CRUD Completo**: Criar, editar, visualizar e excluir
- **Status Din√¢mico**: Ativar/desativar categorias
- **Imagens**: Upload de imagens para cada categoria
- **Filtros**: Filtrar produtos por categoria no frontend

### Sistema de Produtos
- **Gest√£o Completa**: CRUD com upload de imagens
- **Extras**: Sistema de adicionais personaliz√°veis
- **Categoriza√ß√£o**: Vincula√ß√£o com sistema de categorias
- **P√°ginas Individuais**: Cada produto tem sua p√°gina detalhada

### Sistema de Pedidos
- **Rastreamento**: Status em tempo real
- **Pagamentos**: Integra√ß√£o Stripe + pagamento na entrega
- **Hist√≥rico**: Completo para clientes e administradores

## üö® Solu√ß√£o de Problemas

### Erro de Conex√£o MongoDB
```bash
# Verifique se o MongoDB est√° rodando
mongod --version

# Ou use MongoDB Atlas (nuvem)
# Altere MONGODB_URI no .env
```

### Portas em Uso
```bash
# Verifique portas ocupadas
netstat -ano | findstr :4000
netstat -ano | findstr :5173
netstat -ano | findstr :5174
```

### Problemas de Depend√™ncias
```bash
# Limpe cache e reinstale
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

## ü§ù Contribuindo

1. Fa√ßa um fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo `LICENSE` para mais detalhes.

## üìû Contato

Se voc√™ tiver alguma d√∫vida ou sugest√£o, sinta-se √† vontade para entrar em contato!

---

‚≠ê **Se este projeto foi √∫til para voc√™, considere dar uma estrela!**
