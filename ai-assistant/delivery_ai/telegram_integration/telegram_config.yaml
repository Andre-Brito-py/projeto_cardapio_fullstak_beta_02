# Configuração específica do Telegram Bot - IA Liza Delivery

telegram:
  # Token do bot (obter via @BotFather)
  bot_token: "${TELEGRAM_BOT_TOKEN}"
  
  # IDs dos administradores (podem enviar campanhas promocionais)
  admin_chat_ids:
    - 123456789  # Substitua pelo seu ID do Telegram
    - 987654321  # Adicione outros admins conforme necessário
  
  # Configurações de webhook (opcional, para produção)
  webhook:
    enabled: false
    url: "https://seu-dominio.com/webhook"
    port: 8443
    certificate_path: "/path/to/cert.pem"
    private_key_path: "/path/to/private.key"
  
  # Templates de mensagens
  templates:
    welcome: |
      🤖 *Olá! Eu sou a Liza, sua assistente de delivery!*
      
      Estou aqui para ajudar você a fazer pedidos de forma rápida e fácil.
      
      🍕 *O que posso fazer por você:*
      • Receber seus pedidos
      • Mostrar o cardápio
      • Informar preços e promoções
      • Acompanhar status do pedido
      • Responder dúvidas
      
      Digite sua mensagem ou use os botões abaixo! 👇
    
    order_confirmation: |
      ✅ *Pedido Confirmado!*
      
      📋 *Resumo do seu pedido:*
      {order_items}
      
      💰 *Total: R$ {total_price}*
      🚚 *Taxa de entrega: R$ {delivery_fee}*
      💳 *Total final: R$ {final_total}*
      
      ⏰ *Tempo estimado: {estimated_time} minutos*
      
      📱 Você receberá atualizações sobre o status do seu pedido!
    
    order_status: |
      📦 *Status do Pedido #{order_id}*
      
      🔄 *Status atual: {status}*
      ⏰ *Tempo estimado: {estimated_time}*
      
      {status_message}
  
  # Configurações promocionais
  promotional:
    # Máximo de destinatários por lote
    max_recipients_per_batch: 30
    
    # Delay entre mensagens (segundos)
    delay_between_messages: 1.0
    
    # Delay entre lotes (segundos)
    delay_between_batches: 10.0
    
    # Horários permitidos para envio (24h format)
    allowed_hours:
      start: "09:00"
      end: "22:00"
    
    # Dias da semana permitidos (0=segunda, 6=domingo)
    allowed_weekdays: [0, 1, 2, 3, 4, 5, 6]
    
    # Limite de campanhas por admin por dia
    daily_campaign_limit: 5
    
    # Templates promocionais
    templates:
      daily_special: |
        🍕 *OFERTA DO DIA!*
        
        {promotion_text}
        
        ⏰ *Válida até às {valid_until}*
        🛒 *Peça já pelo nosso bot!*
      
      weekend_promo: |
        🎉 *ESPECIAL DE FINAL DE SEMANA!*
        
        {promotion_text}
        
        📅 *Válida durante todo o final de semana*
        🚀 *Aproveite esta oportunidade única!*
      
      new_customer: |
        🎊 *BEM-VINDO AO NOSSO DELIVERY!*
        
        Como novo cliente, você ganhou:
        🎁 *{discount}% de desconto no primeiro pedido*
        
        Use o código: *{promo_code}*
        
        🍕 Faça seu primeiro pedido agora!

# Configurações de integração com a IA
ai_integration:
  # URL da API da IA
  api_url: "http://localhost:8000"
  
  # Timeout para requisições (segundos)
  timeout: 30
  
  # Retry em caso de erro
  max_retries: 3
  retry_delay: 2
  
  # Contexto padrão para conversas
  default_context:
    system_prompt: |
      Você é a Liza, uma assistente virtual especializada em delivery de comida.
      Seja sempre simpática, eficiente e prestativa.
      Ajude os clientes a fazer pedidos, tire dúvidas sobre o cardápio e forneça informações sobre entrega.
      Sempre confirme os detalhes do pedido antes de finalizar.
    
    personality:
      - friendly
      - helpful
      - professional
      - food_expert

# Configurações de logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  # Arquivos de log
  files:
    main: "telegram_bot.log"
    errors: "telegram_errors.log"
    campaigns: "campaigns.log"
  
  # Rotação de logs
  rotation:
    max_size: "10MB"
    backup_count: 5

# Configurações de cache/Redis
cache:
  url: "${REDIS_URL:-redis://localhost:6379}"
  
  # TTL padrão para cache (segundos)
  default_ttl: 3600
  
  # Prefixos para diferentes tipos de dados
  prefixes:
    customers: "customer:"
    orders: "order:"
    sessions: "session:"
    campaigns: "campaign:"

# Configurações de segurança
security:
  # Rate limiting
  rate_limit:
    messages_per_minute: 20
    commands_per_minute: 10
  
  # Blacklist de usuários
  blacklisted_users: []
  
  # Palavras proibidas
  forbidden_words:
    - spam
    - scam
    - hack
  
  # Validação de entrada
  input_validation:
    max_message_length: 1000
    allow_media: true
    allow_links: false

# Configurações de monitoramento
monitoring:
  # Métricas a serem coletadas
  metrics:
    - message_count
    - user_count
    - order_count
    - campaign_success_rate
    - response_time
  
  # Alertas
  alerts:
    error_threshold: 10  # Erros por minuto
    response_time_threshold: 5000  # ms
    
  # Webhook para alertas (opcional)
  webhook_url: "${MONITORING_WEBHOOK_URL}"

# Configurações de desenvolvimento
development:
  # Modo debug
  debug: false
  
  # Usuários de teste
  test_users:
    - 123456789
  
  # Mock responses (para testes)
  mock_ai_responses: false
  
  # Logs detalhados
  verbose_logging: false